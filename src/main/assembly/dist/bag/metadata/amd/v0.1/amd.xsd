<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified"
    targetNamespace="http://easy.dans.knaw.nl/easy/dataset-administrative-metadata/"
    xmlns:damd="http://easy.dans.knaw.nl/easy/dataset-administrative-metadata/" xmlns:wfs="http://easy.dans.knaw.nl/easy/workflow/">
    <xs:import namespace="http://easy.dans.knaw.nl/easy/workflow/" schemaLocation="wfs.xsd"/>
    <!-- import the versioned schema of wfs -->
    <xs:annotation>
        <xs:documentation>Schema to describe the administrative metadata for datasets in EASY, version 0.1.</xs:documentation>
    </xs:annotation>
    <xs:element name="administrative-md">
        <xs:complexType>
            <xs:sequence>
                <xs:element name="datasetState" form="unqualified" type="damd:DatasetStateType"/>
                <xs:element name="previousState" form="unqualified" type="damd:DatasetStateType"/>
                <xs:element name="depositorId" form="unqualified" type="xs:NCName" minOccurs="1" maxOccurs="1">
                    <xs:annotation>
                        <xs:documentation>The username of the depositor. This is NOT the creator of the dataset. </xs:documentation>
                    </xs:annotation>
                </xs:element>
                <xs:element name="stateChangeDates" form="unqualified" minOccurs="0">
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element maxOccurs="unbounded" ref="damd:stateChangeDate"/>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="groupIds" form="unqualified">
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="group" type="xs:NCName" minOccurs="0"/>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element ref="damd:workflowData"/>
            </xs:sequence>
            <xs:attribute name="version" use="required" type="xs:string" fixed="0.1"/>
        </xs:complexType>
    </xs:element>
    <xs:element name="stateChangeDate">
        <xs:complexType>
            <xs:sequence>
                <xs:element name="fromState" form="unqualified" type="xs:NCName"/>
                <xs:element name="toState" form="unqualified" type="xs:NCName"/>
                <xs:element name="changeDate" form="unqualified" type="xs:dateTime"/>
            </xs:sequence>
        </xs:complexType>
    </xs:element>
    <xs:element name="workflowData">
        <xs:complexType>
            <xs:sequence>
                <xs:element name="assigneeId" form="unqualified" type="xs:NCName">
                    <xs:annotation>
                        <xs:documentation>The DANS data manager responsible for the curation of this dataset.</xs:documentation>
                    </xs:annotation>
                </xs:element>
                <xs:element ref="wfs:workflow"/>
            </xs:sequence>
            <xs:attribute name="version" use="required" type="xs:string" fixed="0.1"/>
        </xs:complexType>
    </xs:element>
    <xs:simpleType name="DatasetStateType">
        <xs:restriction base="xs:NMTOKEN">
            <xs:enumeration value="PUBLISHED">
                <xs:annotation>
                    <xs:documentation>The dataset is available for download. Conditions of Access apply</xs:documentation>
                </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="MAINTENANCE">
                <xs:annotation>
                    <xs:documentation>The dataset is not available for download.</xs:documentation>
                </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="DRAFT">
                <xs:annotation>
                    <xs:documentation>The dataset has not yet been submitted, it can still be edited by the depositor.</xs:documentation>
                </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="SUBMITTED">
                <xs:annotation>
                    <xs:documentation>Submitted by depositor, not available for download.</xs:documentation>
                </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="DELETED">
                <xs:annotation>
                    <xs:documentation> The dataset is not available. Only superuser can retrieve the dataset. </xs:documentation>
                </xs:annotation>
            </xs:enumeration>
        </xs:restriction>
    </xs:simpleType>
</xs:schema>
